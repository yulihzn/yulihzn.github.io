window.__require=function t(e,o,n){function i(c,s){if(!o[c]){if(!e[c]){var a=c.split("/");if(a=a[a.length-1],!e[a]){var u="function"==typeof __require&&__require;if(!s&&u)return u(a,!0);if(r)return r(a,!0);throw new Error("Cannot find module '"+c+"'")}}var p=o[c]={exports:{}};e[c][0].call(p.exports,function(t){return i(e[c][1][t]||t)},p,p.exports,t,e,o,n)}return o[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<n.length;c++)i(n[c]);return i}({Building:[function(t,e,o){"use strict";cc._RF.push(e,"b8557VgzS1PaZtvSMwX8vKI","Building");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../utils/Random"),c=t("../EventConstant"),s=cc._decorator,a=s.ccclass,u=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shadowarr=[-1.1,-1,-.9,-.8,-.7,-.6,-.5,-.4,-.3,-.2,-.1,0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.2],e.shadowopacityarr=[20,40,60,80,100,120,140,160,180,200,220,240,220,200,180,160,140,120,100,80,60,40,20,0],e}return n(e,t),e.prototype.onLoad=function(){var t=this;cc.director.on(c.EventConstant.TIME_CHANGE,function(e){t.changeShadow(e.detail.time)}),this.sprite=this.node.getChildByName("sprite"),this.shadow=this.node.getChildByName("shadow"),this.collider=this.getComponent(cc.PhysicsCircleCollider);var e="#579725";this.collider.sensor=!0,r.default.getHalfChance()&&(e="#C71585",this.collider.sensor=!0),r.default.getHalfChance()&&(e="#A3A3A3",this.collider.sensor=!1),this.collider.apply(),this.sprite.color=cc.color(255,255,255).fromHEX(e),this.changeShadow(0)},e.prototype.changeShadow=function(t){this.shadow.scaleX=this.shadowarr[t],this.shadow.scaleX+=t<=12?-.5:.5,this.shadow.opacity=this.shadowopacityarr[t]},e.prototype.start=function(){},e=i([a],e)}(cc.Component));o.default=u,cc._RF.pop()},{"../EventConstant":"EventConstant","../utils/Random":"Random"}],CameraControl:[function(t,e,o){"use strict";cc._RF.push(e,"8b9a6eGtr5LjbYDTt157V5Q","CameraControl");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./GameWorld"),c=cc._decorator,s=c.ccclass,a=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.world=null,e}return n(e,t),e.prototype.onLoad=function(){this.camera=this.getComponent(cc.Camera)},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},e.prototype.start=function(){},e.prototype.lateUpdate=function(){if(this.world&&this.world.player){var t=this.world.player.node.convertToWorldSpaceAR(cc.Vec2.ZERO);this.node.position=this.lerp(this.node.position,this.node.parent.convertToNodeSpaceAR(t),.1)}},e.prototype.lerp=function(t,e,o){var n=cc.v2(0,0),i=t.x,r=t.y;return n.x=i+(e.x-i)*o,n.y=r+(e.y-r)*o,n},i([a(r.default)],e.prototype,"world",void 0),e=i([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./GameWorld":"GameWorld"}],EventConstant:[function(t,e,o){"use strict";cc._RF.push(e,"4bc2cjsl3FOupuzjqA2r09w","EventConstant");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.PLAYER_MOVE="PLAYER_MOVE",e.TIME_CHANGE="TIME_CHANGE",e.eventHandler=new cc.Node,e=i([c],e)}(cc.Component));o.EventConstant=s,cc._RF.pop()},{}],GameTimer:[function(t,e,o){"use strict";cc._RF.push(e,"bdcf8gUFppHVrWtV5s7RIwz","GameTimer");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./EventConstant"),c=cc._decorator,s=c.ccclass,a=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.seconds=0,e.timeDelay=0,e}return n(e,t),e.prototype.start=function(){},e.prototype.isTimeDelay=function(t){return this.timeDelay+=t,this.timeDelay>60&&(this.timeDelay=0,!0)},e.prototype.update=function(t){this.isTimeDelay(t)&&(this.seconds++,this.seconds>23&&(this.seconds=0),cc.director.emit(r.EventConstant.TIME_CHANGE,{detail:{time:this.seconds}}))},e=i([s],e)}(cc.Component));o.default=a,cc._RF.pop()},{"./EventConstant":"EventConstant"}],GameWorld:[function(t,e,o){"use strict";cc._RF.push(e,"17d53HrJp5K4ZGbscfaLtYF","GameWorld");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./Player"),c=t("./EventConstant"),s=t("./Npc"),a=t("./utils/Random"),u=t("./building/Building"),p=cc._decorator,d=p.ccclass,l=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.playerPrefab=null,e.npcPrefab=null,e.buildingPrefab=null,e.timeDelay=0,e.checkTimeDelay=0,e.player=null,e.npcList=[],e.shadowarr=[110,100,90,80,70,60,50,40,30,20,10,0,10,20,30,40,50,60,70,80,90,100,110,120],e}return n(e,t),e.prototype.onLoad=function(){var t=this;cc.director.getPhysicsManager().enabled=!0,cc.director.on(c.EventConstant.TIME_CHANGE,function(e){t.changeShadow(e.detail.time)}),this.shadow=this.node.getChildByName("shadow"),this.shadow.zIndex=8e3,this.player=cc.instantiate(this.playerPrefab).getComponent(r.default),this.player.node.parent=this.node,this.player.node.position=cc.v2(0,0),this.player.node.zIndex=2e3;for(var e=0;e<100;e++)this.addNpc(cc.v2(a.default.getRandomNum(-1500,1500),a.default.getRandomNum(-1500,1500)),1+a.default.rand());for(e=0;e<100;e++)this.addBuilding(cc.v2(a.default.getRandomNum(-1600,1600),a.default.getRandomNum(-1600,1600)),a.default.getRandomNum(1,3)+a.default.rand())},e.prototype.changeShadow=function(t){this.shadow.opacity=this.shadowarr[t]},e.prototype.addNpc=function(t,e){var o=cc.instantiate(this.npcPrefab).getComponent(s.default);o.node.parent=this.node,o.node.position=t,o.node.zIndex=1e3,o.node.scale=e,this.npcList.push(o)},e.prototype.addBuilding=function(t,e){var o=cc.instantiate(this.buildingPrefab).getComponent(u.default);o.node.parent=this.node,o.node.position=t,o.node.zIndex=3e3,o.node.scale=e},e.prototype.start=function(){},e.prototype.lerp=function(t,e,o){var n=cc.v2(0,0),i=t.x,r=t.y;return n.x=i+(e.x-i)*o,n.y=r+(e.y-r)*o,n},e.prototype.isTimeDelay=function(t){return this.timeDelay+=t,this.timeDelay>.016&&(this.timeDelay=0,!0)},e.prototype.isCheckTimeDelay=function(t){return this.checkTimeDelay+=t,this.checkTimeDelay>1&&(this.checkTimeDelay=0,!0)},e.prototype.update=function(t){},i([l(cc.Prefab)],e.prototype,"playerPrefab",void 0),i([l(cc.Prefab)],e.prototype,"npcPrefab",void 0),i([l(cc.Prefab)],e.prototype,"buildingPrefab",void 0),e=i([d],e)}(cc.Component);o.default=f,cc._RF.pop()},{"./EventConstant":"EventConstant","./Npc":"Npc","./Player":"Player","./building/Building":"Building","./utils/Random":"Random"}],Joystick:[function(t,e,o){"use strict";cc._RF.push(e,"b3041FXU3BBlLVXLnuJUnIm","Joystick");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./EventConstant"),c=cc._decorator,s=c.ccclass,a=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.anglePreDirQuadrant=23,e.fixedPoint=null,e.movePoint=null,e.movePointMoveRadius=100,e.stopCount=0,e.timeDelay=0,e}return n(e,t),e.prototype.onLoad=function(){var t=this.node.getContentSize();this.touchArea=new cc.Vec2(t.width,t.height),this.fixedPointMoveCenterPos=this.touchArea.div(0,this.touchArea),this.fixedPointMoveRadius=this.touchArea.x/2-this.movePointMoveRadius,this.node.on(cc.Node.EventType.TOUCH_START,function(t){if(-1==this.touchID){var e=t.getLocation(),o=new cc.Vec2(e.x,e.y);o.subSelf(this.node.position);var n=this.clampPos(o,this.fixedPointMoveCenterPos,this.fixedPointMoveRadius);this.movePointMoveCenterPos=n,this.setFixedPointPos(n),this.setMovePointPos(n),this.touchID=t.getID()}},this),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){if(this.touchID==t.getID()){var e=t.getLocation(),o=new cc.Vec2(e.x,e.y);o.subSelf(this.node.position);var n=this.clampPos(o,this.movePointMoveCenterPos,this.movePointMoveRadius);this.setMovePointPos(n)}},this),this.node.on(cc.Node.EventType.TOUCH_END,function(t){this.init()},this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(t){this.init()},this),this.init()},e.prototype.init=function(){this.touchID=-1,this.joystickInputDir=new cc.Vec2,this.setFixedPointPos(this.fixedPointMoveCenterPos),this.setMovePointPos(this.fixedPointMoveCenterPos)},e.prototype.setFixedPointPos=function(t){this.fixedPoint.setPosition(t)},e.prototype.getFixedPointPos=function(){return this.fixedPoint.getPosition()},e.prototype.setMovePointPos=function(t){this.movePoint.setPosition(t)},e.prototype.getMovePointPos=function(){return this.movePoint.getPosition()},e.prototype.clampPos=function(t,e,o){var n=t.sub(e);return n.mag()>o?n.normalize().mul(o).add(e):t},e.prototype.getInputDir=function(){var t=this.movePoint.getPosition().sub(this.fixedPoint.getPosition());return(isNaN(t.x)||isNaN(t.y))&&(t=cc.v2(0,0)),t.mag()>0&&t.normalizeSelf(),t},e.prototype.getInputQuadrantDir=function(){return this.getVec2ByQuadrant(this.getDirQuadrant(this.getInputDir()))},e.prototype.getDirQuadrant=function(t){var e=null;return t.mag()>0&&(e=Math.floor(this.getAngleByVec2(t)/this.anglePreDirQuadrant)),e},e.prototype.getAngleByVec2=function(t){return 180*-Math.atan2(t.y,t.x)/Math.PI+this.anglePreDirQuadrant/2},e.prototype.getVec2ByAngle=function(t){var e=new cc.Vec2,o=(this.anglePreDirQuadrant/2-t)*(Math.PI/180);return e.x=Math.cos(o),e.y=Math.sin(o),e.normalizeSelf()},e.prototype.getVec2ByQuadrant=function(t){if(null!=t){var e=t*this.anglePreDirQuadrant;return e+=this.anglePreDirQuadrant/2,this.getVec2ByAngle(e)}return cc.Vec2.ZERO},e.prototype.sendMoveMessageToPlayer=function(t){var e=this.getInputQuadrantDir(),o=4;Math.abs(e.x)<Math.abs(e.y)&&(e.y>.3&&(o=0),e.y<-.3&&(o=1)),Math.abs(e.x)>Math.abs(e.y)&&(e.x<-.3&&(o=2),e.x>.3&&(o=3));var n=this.getInputDir();n.equals(cc.Vec2.ZERO)?this.stopCount++:this.stopCount=0,this.stopCount<2&&cc.director.emit(r.EventConstant.PLAYER_MOVE,{detail:{dir:o,pos:n,dt:t}})},e.prototype.isTimeDelay=function(t){return this.timeDelay+=t,this.timeDelay>.016&&(this.timeDelay=0,!0)},e.prototype.update=function(t){this.isTimeDelay(t)&&this.sendMoveMessageToPlayer(t)},i([a(cc.Integer)],e.prototype,"anglePreDirQuadrant",void 0),i([a(cc.Node)],e.prototype,"fixedPoint",void 0),i([a(cc.Node)],e.prototype,"movePoint",void 0),i([a],e.prototype,"movePointMoveRadius",void 0),e=i([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./EventConstant":"EventConstant"}],KeyboardController:[function(t,e,o){"use strict";cc._RF.push(e,"4d2c9CLNu1I0JRJ/zYWvgTz","KeyboardController");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./EventConstant"),c=cc._decorator,s=c.ccclass,a=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stopCount=0,e.isUp=!1,e.isDown=!1,e.isLeft=!1,e.isRight=!1,e.isA=!1,e.isB=!1,e.isC=!1,e.isD=!1,e.timeDelay=0,e}return n(e,t),e.prototype.onLoad=function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)},e.prototype.start=function(){},e.prototype.onKeyDown=function(t){switch(t.keyCode){case cc.macro.KEY.w:this.isUp=!0;break;case cc.macro.KEY.s:this.isDown=!0;break;case cc.macro.KEY.a:this.isLeft=!0;break;case cc.macro.KEY.d:this.isRight=!0;break;case cc.macro.KEY.j:this.isA=!0;break;case cc.macro.KEY.k:this.isB=!0;break;case cc.macro.KEY.i:this.isC=!0;break;case cc.macro.KEY.l:this.isD=!0}},e.prototype.onKeyUp=function(t){switch(t.keyCode){case cc.macro.KEY.w:this.isUp=!1;break;case cc.macro.KEY.s:this.isDown=!1;break;case cc.macro.KEY.a:this.isLeft=!1;break;case cc.macro.KEY.d:this.isRight=!1;break;case cc.macro.KEY.j:this.isA=!1;break;case cc.macro.KEY.k:this.isB=!1;break;case cc.macro.KEY.i:this.isC=!1;break;case cc.macro.KEY.l:this.isD=!1}},e.prototype.update=function(t){this.isTimeDelay(t)&&this.sendMoveMessageToPlayer(t)},e.prototype.sendMoveMessageToPlayer=function(t){var e=cc.v2(0,0);this.isUp&&e.addSelf(cc.v2(0,.9)),this.isDown&&e.addSelf(cc.v2(0,-.9)),this.isLeft&&e.addSelf(cc.v2(-.9,0)),this.isRight&&e.addSelf(cc.v2(.9,0)),e.mag()>0&&e.normalizeSelf();var o=4;Math.abs(e.x)<Math.abs(e.y)&&(e.y>.3&&(o=0),e.y<-.3&&(o=1)),Math.abs(e.x)>Math.abs(e.y)&&(e.x<-.3&&(o=2),e.x>.3&&(o=3)),e.equals(cc.Vec2.ZERO)?this.stopCount++:this.stopCount=0,this.stopCount<2&&cc.director.emit(r.EventConstant.PLAYER_MOVE,{detail:{dir:o,pos:e,dt:t}}),this.isA,this.isB,this.isC,this.isD},e.prototype.isTimeDelay=function(t){return this.timeDelay+=t,this.timeDelay>.016&&(this.timeDelay=0,!0)},e=i([s],e)}(cc.Component));o.default=a,cc._RF.pop()},{"./EventConstant":"EventConstant"}],Npc:[function(t,e,o){"use strict";cc._RF.push(e,"d1a1eIJ+ItH3KWe/hPfwvFH","Npc");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./utils/Random"),c=cc._decorator,s=c.ccclass,a=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isMoving=!1,e.isDied=!1,e.timeDelay=0,e.rate=3,e}return n(e,t),e.prototype.onLoad=function(){this.isDied=!1,this.rigidbody=this.getComponent(cc.RigidBody),this.sprite=this.node.getChildByName("sprite"),this.move(cc.v2(r.default.getHalfChance()?r.default.rand():-r.default.rand(),r.default.getHalfChance()?r.default.rand():-r.default.rand()))},e.prototype.move=function(t){if(!this.isDied){var e=t.x,o=t.y,n=Math.abs(e),i=Math.abs(o),r=n>i?n:i;r=0==r?1:r;var c=cc.v2(e,o),s=100;s<0&&(s=0),c=c.mul(s),this.rigidbody.linearVelocity=c,this.isMoving=0!=e||0!=o}},e.prototype.start=function(){this.node},e.prototype.takeDamage=function(t){return!0},e.prototype.killed=function(){this.isDied||(this.isDied=!0)},e.prototype.isTimeDelay=function(t){return this.timeDelay+=t,this.timeDelay>this.rate&&(this.rate=r.default.getRandomNum(1,6),this.timeDelay=0,!0)},e.prototype.update=function(t){this.isTimeDelay(t)&&this.move(cc.v2(r.default.getHalfChance()?r.default.rand():-r.default.rand(),r.default.getHalfChance()?r.default.rand():-r.default.rand()))},e=i([s],e)}(cc.Component));o.default=a,cc._RF.pop()},{"./utils/Random":"Random"}],Player:[function(t,e,o){"use strict";cc._RF.push(e,"98cabdCDgxC64xZj196b1xq","Player");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=(r.property,t("./EventConstant")),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isMoving=!1,e.isDied=!1,e}return n(e,t),e.prototype.onLoad=function(){var t=this;cc.director.on(s.EventConstant.PLAYER_MOVE,function(e){t.move(e.detail.pos)}),this.isDied=!1,this.rigidbody=this.getComponent(cc.RigidBody),this.sprite=this.node.getChildByName("sprite")},e.prototype.move=function(t){if(!this.isDied){var e=t.x,o=t.y,n=Math.abs(e),i=Math.abs(o);this.isMoving=0!=e||0!=o;var r=n>i?n:i;r=0==r?1:r;var c=cc.v2(e,o),s=200;s<0&&(s=0),c=c.mul(s),this.rigidbody.linearVelocity=c}},e.prototype.start=function(){this.node},e.prototype.takeDamage=function(t){return!0},e.prototype.killed=function(){this.isDied||(this.isDied=!0)},e.prototype.update=function(t){},e.STATE_IDLE=0,e.STATE_WALK=1,e.STATE_ATTACK=3,e.STATE_DIE=4,e=i([c],e)}(cc.Component);o.default=a,cc._RF.pop()},{"./EventConstant":"EventConstant"}],Random:[function(t,e,o){"use strict";cc._RF.push(e,"6884aZwgtJKhYfD6AFDvIcl","Random"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.setSeed=function(e){t.seed=e},t.rand=function(){return t.seed=(9301*t.seed+49297)%233280,t.seed/233280},t.getRandomNum=function(e,o){return e+Math.round(t.rand()*(o-e))},t.getHalfChance=function(){return t.rand()>.5},t.seed=(new Date).getTime(),t}();o.default=n,cc._RF.pop()},{}]},{},["CameraControl","EventConstant","GameTimer","GameWorld","Joystick","KeyboardController","Npc","Player","Building","Random"]);